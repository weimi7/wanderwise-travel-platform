# ===================================
# Wanderwise Server Configuration
# Express. js Backend Environment Variables
# ===================================

# ===================================
# Server Configuration
# ===================================
PORT=5000
NODE_ENV=development

# ===================================
# CORS Configuration
# ===================================
# Frontend URL for CORS
CORS_ORIGIN=http://localhost:3000

# Multiple origins (comma-separated)
# CORS_ORIGIN=http://localhost:3000,https://wanderwise.com

# ===================================
# API Documentation
# ===================================
API_DOCS_URL=https://docs.wanderwise.com

# ===================================
# PostgreSQL Database Configuration
# ===================================
# Get PostgreSQL from:  https://www.postgresql.org/download/
# Or use cloud providers:  Railway, Supabase, Neon, etc. 

PG_HOST=localhost
PG_PORT=5432
PG_USER=postgres
PG_PASSWORD=your_database_password
PG_DATABASE=wanderwise

# Alternative: Full connection string
# DATABASE_URL=postgresql://username:password@localhost:5432/wanderwise

# ===================================
# Cloudinary Configuration
# ===================================
# Get credentials from: https://cloudinary.com/
# 1. Sign up for free account
# 2. Go to Dashboard
# 3. Copy Cloud Name, API Key, and API Secret

CLOUD_NAME=your_cloudinary_cloud_name
CLOUD_API_KEY=your_cloudinary_api_key
CLOUD_API_SECRET=your_cloudinary_api_secret

# Cloudinary folder structure
CLOUDINARY_RESUMES_FOLDER=wanderwise/resumes
CLOUDINARY_AVATARS_FOLDER=wanderwise/avatars
CLOUDINARY_ITINERARIES_FOLDER=wanderwise/itineraries

# Full Cloudinary URL (auto-generated format)
CLOUDINARY_URL=cloudinary://API_KEY:API_SECRET@CLOUD_NAME

# ===================================
# Frontend Configuration
# ===================================
FRONTEND_URL=http://localhost:3000
NEXT_PUBLIC_API_BASE_URL=http://localhost:5000

# ===================================
# Stripe Payment Configuration
# ===================================
# Get credentials from: https://dashboard.stripe.com/apikeys
# Use test keys for development (starts with sk_test_ and pk_test_)
# Switch to live keys for production (starts with sk_live_ and pk_live_)

STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
NEXT_PUBLIC_STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# Stripe Configuration Steps:
# 1. Create account at https://stripe.com
# 2. Get API keys from Dashboard → Developers → API keys
# 3. For webhook secret: 
#    - Go to Developers → Webhooks
#    - Add endpoint: http://localhost:5000/webhook/stripe
#    - Select events: payment_intent.succeeded, etc. 
#    - Copy signing secret

# ===================================
# JWT Authentication
# ===================================
# Generate a secure random string (min 32 characters)
# You can use: openssl rand -base64 32
# Or online generator: https://generate-secret.vercel.app/

JWT_SECRET=your_super_secret_jwt_key_min_32_characters_long
JWT_EXPIRES_IN=7d

# Refresh token configuration (optional)
# REFRESH_TOKEN_SECRET=your_refresh_token_secret
# REFRESH_TOKEN_EXPIRES_IN=30d

# ===================================
# Google OAuth 2.0 Configuration
# ===================================
# Get credentials from: https://console.cloud.google.com/
# 1. Create project or select existing
# 2. Enable Google+ API
# 3. Go to Credentials → Create Credentials → OAuth 2.0 Client ID
# 4. Add authorized redirect URIs: 
#    - http://localhost:5000/auth/google/callback
#    - http://localhost:3000/auth/callback

GOOGLE_CLIENT_ID=your_google_client_id. apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# ===================================
# OpenAI Configuration
# ===================================
# Get API key from: https://platform.openai.com/api-keys
# 1. Create account at https://platform.openai.com
# 2. Add payment method (required for API access)
# 3. Generate API key from API keys section

OPENAI_API_KEY=sk-proj-your_openai_api_key
OPENAI_MODEL=gpt-4o-mini

# Alternative models: 
# OPENAI_MODEL=gpt-4o
# OPENAI_MODEL=gpt-4-turbo
# OPENAI_MODEL=gpt-3.5-turbo

# OpenAI Configuration (optional)
# OPENAI_MAX_TOKENS=2000
# OPENAI_TEMPERATURE=0.7

# ===================================
# SendGrid Email Configuration
# ===================================
# Get API key from: https://app.sendgrid.com/
# 1. Create account at https://sendgrid.com
# 2. Go to Settings → API Keys
# 3. Create new API key with "Full Access" or "Mail Send" permissions
# 4. Verify sender email address in Settings → Sender Authentication

SENDGRID_API_KEY=SG.your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@wanderwise.com

# ===================================
# SendGrid Dynamic Email Templates
# ===================================
# Create templates at: https://mc.sendgrid.com/dynamic-templates
# 1. Go to Email API → Dynamic Templates
# 2. Create template for each email type
# 3. Copy Template ID

# Authentication & User Management
SENDGRID_TEMPLATE_WELCOME_ID=d-your_welcome_template_id
SENDGRID_TEMPLATE_RESET_ID=d-your_reset_password_template_id

# Contact & Support
SENDGRID_TEMPLATE_CONTACT_ID=d-your_contact_template_id
SENDGRID_TEMPLATE_CONTACT_CONFIRMATION_ID=d-your_contact_confirmation_template_id

# Marketing
SENDGRID_TEMPLATE_NEWSLETTER_ID=d-your_newsletter_template_id

# Application & HR (if applicable)
SENDGRID_TEMPLATE_APPLICATION_CONFIRMATION=d-your_application_confirmation_template_id
SENDGRID_TEMPLATE_INTERVIEW_INVITATION=d-your_interview_invitation_template_id
SENDGRID_TEMPLATE_APPLICATION_REJECTION=d-your_application_rejection_template_id
SENDGRID_TEMPLATE_JOB_OFFER=d-your_job_offer_template_id

# Email Recipients
TEST_RESET_RECIPIENT=test@example.com
CONTACT_RECIPIENT_EMAIL=support@wanderwise.com
CAREERS_HR_EMAIL=hr@wanderwise.com

# ===================================
# Cloudflare Turnstile (Captcha)
# ===================================
# Get secret key from: https://dash.cloudflare.com/
# 1. Go to Turnstile section
# 2. Select your site or create new one
# 3. Copy Secret Key (different from Site Key used in frontend)

CLOUDFLARE_TURNSTILE_SECRET_KEY=0x4AAA_your_turnstile_secret_key

# ===================================
# Application Settings
# ===================================
# File upload limits
MAX_RESUME_SIZE_MB=8
MAX_AVATAR_SIZE_MB=5
MAX_IMAGE_SIZE_MB=10

# ID Prefixes
APPLICATION_ID_PREFIX=APP
ITINERARY_ID_PREFIX=ITN
USER_ID_PREFIX=USR

# ===================================
# Rate Limiting
# ===================================
# API rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Auth rate limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# ===================================
# Session Configuration (Optional)
# ===================================
# SESSION_SECRET=your_session_secret
# SESSION_MAX_AGE=86400000

# ===================================
# Redis Configuration (Optional - for caching)
# ===================================
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password
# REDIS_URL=redis://localhost:6379

# ===================================
# AI Service Configuration
# ===================================
# Internal AI service URL (if using separate AI service)
AI_SERVICE_URL=http://localhost:8001
AI_SERVICE_API_KEY=your_ai_service_api_key

# ===================================
# Logging Configuration
# ===================================
# LOG_LEVEL=info
# LOG_FILE=logs/server.log
# ENABLE_REQUEST_LOGGING=true

# ===================================
# Security Configuration
# ===================================
# Bcrypt salt rounds for password hashing
BCRYPT_SALT_ROUNDS=10

# CORS additional configuration
# CORS_CREDENTIALS=true
# CORS_METHODS=GET,POST,PUT,DELETE,PATCH
# CORS_ALLOWED_HEADERS=Content-Type,Authorization

# ===================================
# Production Configuration
# ===================================
# Update these when deploying to production: 
# - NODE_ENV=production
# - CORS_ORIGIN=https://wanderwise.com
# - FRONTEND_URL=https://wanderwise.com
# - Use production database credentials
# - Use live Stripe keys (sk_live_, pk_live_)
# - Use verified sender email for SendGrid
# - Update all URLs from localhost to production domains

# ===================================
# Optional: Third-party Integrations
# ===================================
# Google Analytics
# GA_TRACKING_ID=UA-XXXXX-Y

# Sentry Error Tracking
# SENTRY_DSN=https://xxx@sentry.io/xxx

# AWS S3 (Alternative to Cloudinary)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=wanderwise-uploads

# Twilio SMS (Optional)
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_PHONE_NUMBER=+1234567890